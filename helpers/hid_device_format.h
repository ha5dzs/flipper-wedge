#pragma once

#include <furi.h>

#define HID_DEVICE_FORMAT_MAX_LEN 128

/** Format UID bytes to hex string with delimiter
 *
 * @param uid UID bytes
 * @param uid_len Length of UID
 * @param delimiter Delimiter string between bytes (can be empty)
 * @param output Output buffer
 * @param output_size Size of output buffer
 */
void hid_device_format_uid(
    const uint8_t* uid,
    uint8_t uid_len,
    const char* delimiter,
    char* output,
    size_t output_size);

/** Format complete output string for HID typing
 *
 * @param nfc_uid NFC UID bytes (can be NULL)
 * @param nfc_uid_len Length of NFC UID
 * @param rfid_uid RFID UID bytes (can be NULL)
 * @param rfid_uid_len Length of RFID UID
 * @param ndef_text NDEF text payload (can be NULL or empty)
 * @param delimiter Delimiter string between bytes
 * @param nfc_first true if NFC should come before RFID
 * @param output Output buffer
 * @param output_size Size of output buffer
 */
void hid_device_format_output(
    const uint8_t* nfc_uid,
    uint8_t nfc_uid_len,
    const uint8_t* rfid_uid,
    uint8_t rfid_uid_len,
    const char* ndef_text,
    const char* delimiter,
    bool nfc_first,
    char* output,
    size_t output_size);
